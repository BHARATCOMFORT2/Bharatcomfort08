<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>User Dashboard - BharatComfort</title>
<link rel="stylesheet" href="../css/dashboard.css">
</head>
<body>
<header>
  <div id="notifications">
  <button onclick="toggleNotifications()">ðŸ””</button>
  <div id="notificationList" class="hidden"></div>
</div>
  <h1>User Dashboard</h1>
  <button id="logoutBtn">Logout</button>
</header>

<main>
  <!-- Browse Listings -->
  <section>
    <h2>Browse Listings</h2>
    <input type="text" id="searchBox" placeholder="Search listings...">
    <section id="searchSection">
  <input type="text" id="searchInput" placeholder="Search by destination, hotel, or restaurant...">

  <select id="priceFilter">
    <option value="">Any Price</option>
    <option value="low">Below â‚¹1000</option>
    <option value="mid">â‚¹1000 - â‚¹5000</option>
    <option value="high">Above â‚¹5000</option>
  </select>

  <select id="serviceFilter">
    <option value="">All Services</option>
    <option value="wifi">Free WiFi</option>
    <option value="parking">Parking</option>
    <option value="breakfast">Breakfast Included</option>
    <option value="ac">Air Conditioning</option>
  </select>

  <button onclick="applyFilters()">Search</button>
</section>

<section id="mapSection">
  <h2>Map View</h2>
  <div id="map" style="height:400px;width:100%;"></div>
</section>
    <div id="listingContainer"></div>
  </section>
<!-- My Bookings -->
<section>
  <h2>My Bookings</h2>
  <table id="userBookings">
    <thead>
      <tr>
        <th>Listing</th>
        <th>Date</th>
        <th>Guests</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</section>
<!-- Travel Planner (replace existing planner section) -->
<section>
  <h2>Travel Planner</h2>

  <div class="planner-row">
    <div>
      <label>Origin (leave empty to use my location)</label><br>
      <input type="text" id="originInput" placeholder="Enter origin (city / address)">
      <button id="useLocationBtn">Use my location</button>
    </div>

    <div>
      <label>Destination</label><br>
      <input type="text" id="destinationInput" placeholder="Enter destination (city / hotel / landmark)" required>
    </div>

    <div>
      <label>Mode</label><br>
      <select id="plannerMode">
        <option value="DRIVING">Road (Car)</option>
        <option value="TRANSIT">Transit (Bus/Train)</option>
        <option value="WALKING">Walking</option>
        <option value="AIR">Air (nearest airports)</option>
        <option value="RAIL">Rail (nearest train stations)</option>
      </select>
    </div>

    <div style="margin-top:22px;">
      <button id="planBtn">Plan Travel</button>
    </div>
  </div>

  <div id="plannerResult" style="margin-top:16px;"></div>
</section>

<!-- Map Section (keep this; map div required) -->
<section id="mapSection">
  <h2>Map View</h2>
  <div id="map" style="height:450px;width:100%;"></div>
</section>

<!-- Make sure your Google Maps script includes libraries=places and your API key (replace YOUR_KEY) -->
<script async
  src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&libraries=places&callback=initMap">
</script>
  <!-- Post Review -->
  <section>
    <h2>Post Review</h2>
    <form id="reviewForm">
      <select id="listingSelect" required></select>
      <textarea id="reviewText" placeholder="Write your review..." required></textarea>
      <input type="number" id="rating" min="1" max="5" placeholder="Rating (1-5)" required>
      <button type="submit">Submit Review</button>
    </form>
  </section>

  <!-- Stories -->
  <section>
    <h2>User Stories</h2>
    <form id="storyForm">
      <textarea id="storyText" placeholder="Share your experience..." required></textarea>
      <button type="submit">Post Story</button>
    </form>
    <div id="storiesContainer"></div>
  </section>

  <!-- Travel Planner -->
  <section>
    <h2>Travel Planner</h2>
    <form id="plannerForm">
      <input type="text" id="destination" placeholder="Enter Destination" required>
      <select id="mode">
        <option value="Air">Airways</option>
        <option value="Rail">Railways</option>
        <option value="Road">Roadways</option>
      </select>
      <button type="submit">Search</button>
    </form>
    <div id="plannerResult"></div>
  </section>
  <section id="myTrips">
  <h2>My Saved Trips</h2>
  <div id="tripsContainer"></div>
</section>
</main>

<script type="module" src="../js/user.js"></script>
  <script async
  src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&callback=initMap">
</script>
</body>
</html>
